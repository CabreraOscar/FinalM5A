<app-pantalla-empleado></app-pantalla-empleado>
<body style=" background-image: linear-gradient(to top, #b71cff 0%, #3084f1 100%);">
  <div class="containeunion">
    <div class="container">
      
       
      <div class="containeruno">
        <div style="background-color: aliceblue; border-radius: 10px; padding: 5px; margin-bottom: 15px;">
          <h5>Detalle de persona</h5>
          
          <form id="search-form" #miFormulario="ngForm">
            <label for="search-client">Buscar cliente:</label>
            <input type="text" [(ngModel)]="inputValue" name="miInput" placeholder="cedula">

            <button (click)="buscarporcedula()" type="submit">Buscar</button>
            <button (click)="obtenerPersona()" class="btn btn-danger"
              style="margin-left : 10px;background-color: brown; margin: 10px; width: fit-content;">Cancelar</button>
          </form>
          <div class="table" style="height: 200px; overflow-y: scroll;">
            <table>
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Cédula</th>
                  <th>Télefono</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let persona of persona">
                  <td>{{persona.nombrePer }}</td>
                  <td>{{persona.identificacion }}</td>
                  <td>{{persona.telefono }}</td>
                  <button (click)="seleccionarPersona(persona)" class="btn btn-info">Seleccionar</button>
                </tr>

              </tbody>
            </table>
          </div>
        </div>

        <div style="background-color: aliceblue; border-radius: 10px; padding: 5px; margin-bottom: 15px;">
          <h5>Listado de servicios</h5>
          <div class="table" style="height: 200px; overflow-y: scroll;">
            <table>
              <thead>
                <tr>
                  <th>Tamaño</th>
                  <th>Precio U</th>
                  <th>Cantidad</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let maquina of maquinas; let i = index">
                  <td>{{maquina.tamano}}</td>
                  <td>{{maquina.precio}}</td>
                  <td>
                    <div class="spinner">
                      <input type="number" min="0" max="10" value="1" [ngModel]="cantidad_maq[i]"
                        (ngModelChange)="cantidad_maq[i] = $event">
                    </div>
                  </td>
                  <td>
                    <button (click)="crearItemMaquina(maquina, cantidad_maq[i])">Seleccionar</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>


      </div>
      <button class="button" (click)="Registra()">Registrar cliente</button>

      <div class="containercinco">

        <div style="background-color: aliceblue; border-radius: 10px; padding: 5px; margin-right: 10px;">
          <h5>Listado de máquina</h5>
          <div class="table" style="height: 200px; overflow-y: scroll;">
            <table>
              <thead>
                <tr>
                  <th>Servicio</th>
                  <th>Precio U</th>
                  <th>Cantidad</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let servicio of servicios; let i = index">
                  <td>{{servicio.nombre}}</td>
                  <td>{{servicio.precio}}</td>
                  <td>
                    <div class="spinner">
                      <input type="number" min="0" max="10" value="0" [ngModel]="cantidad_ser[i]"
                        (ngModelChange)="cantidad_ser[i] = $event">
                    </div>
                  </td>
                  <td>
                    <button (click)="crearItemServicio(servicio, cantidad_ser[i])">Seleccionar</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>


        <div style="background-color: aliceblue; border-radius: 10px; padding: 5px;">
          <h5>Cuadro de Selección</h5>
          <div class="table" style="height: 200px; overflow-y: scroll;">
            <table>
              <thead>
                <tr>
                  <th>Servi/máquina</th>
                  <th>Precio T</th>
                  <th>Cantidad</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of listaItem">
                  <td>M/S/SELECT</td>
                  <td>{{item.precioTotal}}</td>

                  <td>
                    {{item.cantidad}}
                  </td>

                </tr>
              </tbody>
            </table>
            <button (click)="eliminaritems()">Cancelar </button>
          </div>
        </div>
      </div>
    </div>
    <div class="container1" >
      <h1 style="margin-bottom: 30px;">Detalles de la órden</h1>
      <div class="form-group">
        <label for="cedula" style="margin-right: 10px;">Cédula:</label>
        <input type="text" id="cedula" name="cedula" [(ngModel)]="cedula" disabled>
      </div>
      <div class="form-group">
        <label for="nombre" style="margin-right: 10px;">Cliente:</label>
        <input type="text" id="nombre" name="nombre" [(ngModel)]="cliente" disabled>
      </div>
      
      <div class="form-group">
        <label for="fecha" style="margin-right: 10px;">Fecha :</label>
        <input type="date" id="fecha" name="fecha" [(ngModel)]="currentDate" disabled>
      </div>
      <div class="form-group">
        <label for="total" style="margin-right: 10px;">Total:</label>
        <input type="text" id="total" name="total" [(ngModel)]="totalx" disabled>
      </div>
      <button type="submit" (click)="crearOrden()">Agregar órden</button>
    </div>
  </div>
</body>