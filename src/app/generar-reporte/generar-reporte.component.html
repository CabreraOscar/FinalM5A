<div class="containeunion">

    <div class="container1">
        <h1>Lista de Ventas</h1>
        <div class="buscar">
            <form id="search-form" #miFormulario="ngForm">
                <label for="search-client" style="margin-right: 20%;">Buscar Ventas:</label>
                <input type="date" [(ngModel)]="inputValue" name="miInput" placeholder="cedula"
                    (blur)="verificarInput()">
                <input type="hidden" [(ngModel)]="currentDate" name="miInput" placeholder="cedula"
                    (blur)="verificarInput()">
                <button class="boton-con-icono" (click)="buscarVentas()">
                    <!-- Icono de Google Fonts -->
                    <span class="material-symbols-outlined">
                        search
                    </span>
                </button>

                <button class="btn btn-danger" (click)="listarFecha()"
                    style="margin-left : 10px;background-color: brown;">CANCELAR</button>



            </form>
            <form id="search-form">
                <label>Buscar Persona:</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="inputValueP" [ngModelOptions]="{standalone: true}"
                        class="form-control" placeholder="Ingrese la Cédula">
                    <button class="btn btn-outline-secondary" type="button"
                        (click)="buscarPersonaVentas()">Buscar</button>
                    <button class="btn btn-outline-secondary" type="button" (click)="listarFecha()">Cancelar</button>
                </div>
            </form>
        </div>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Número de Factura</th>
                    <th>Fecha</th>
                    <th>Tipo de Pago</th>
                    <th>Subtotal</th>
                    <th>Descuento</th>
                    <th>IVA</th>
                    <th>Total</th>
                    <th>Persona</th>
                    <th>Configuración</th>
                    
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let venta of ventas">
                    <td>{{venta.idVenta}}</td>
                    <td>{{venta.fecha}}</td>
                    <td>{{venta.tipoPago}}</td>
                    <td>{{venta.subtotal}}</td>
                    <td>{{venta.descuento}}</td>
                    <td>{{venta.iva}}</td>
                    <td>{{venta.total}}</td>
                    <td>{{venta.personaf.nombrePer}}</td>
                    <td>{{venta.configEmpresa.nombreEmpresa}}</td>
                    <td><button class="btn btn-info" (click)="seleccionarVenta(venta)">+</button></td>
                </tr>

            </tbody>
        </table>
    </div>
    <div class="formulario-reporte">
        <p>Detalle empresa</p>
        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">storefront</span>
            <input type="text" class="form-control" placeholder="Nombre Empresa"
                [(ngModel)]="ventag.configEmpresa.nombreEmpresa" aria-label="Username" aria-describedby="basic-addon1"
                disabled>
        </div>
        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">domain</span>
            <input type="text" class="form-control" placeholder="RUC" [(ngModel)]="ventag.configEmpresa.ruc"
                aria-label="Username" disabled>
            <span class="material-symbols-rounded">call</span>
            <input type="text" class="form-control" placeholder="Télefono" [(ngModel)]="ventag.configEmpresa.telefono"
                aria-label="Server" disabled>
        </div>
        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">home_pin</span>
            <input type="text" class="form-control" placeholder="Dirección" [(ngModel)]="ventag.configEmpresa.ubicacion"
                aria-label="Username" disabled>
            <span class="material-symbols-rounded">calendar_month</span>
            <input type="text" class="form-control" placeholder="Fecha" [(ngModel)]="ventag.fecha" aria-label="Server"
                disabled>
        </div>

        <p>Detalle Persona</p>

        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">person</span>
            <input type="text" class="form-control" placeholder="Nombres" [(ngModel)]="ventag.personaf.nombrePer"
                aria-label="Username" disabled>
            <span class="material-symbols-rounded"> badge</span>
            <input type="text" class="form-control" placeholder="Cédula" [(ngModel)]="ventag.personaf.identificacion"
                aria-label="Server" disabled>
        </div>

        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded"> mail</span>
            <input type="text" class="form-control" placeholder="Correo Electronico"
                [(ngModel)]="ventag.personaf.correo" aria-label="Username" disabled>
            <span class="material-symbols-rounded">call</span>
            <input type="text" class="form-control" placeholder="Telefono" [(ngModel)]="ventag.personaf.telefono"
                aria-label="Server" disabled>
        </div>
        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">home</span>
            <input type="text" class="form-control" placeholder="Dirección" [(ngModel)]="ventag.personaf.direccion"
                aria-label="Username" aria-describedby="basic-addon1" disabled>
        </div>
        <div style="height: 100px; overflow-y: scroll;">
            <table class="table table-sm">
                <thead>
                    <th>Cedula de la Persona</th>
                    <th>Total</th>
                </thead>
                <tbody>
                    <tr *ngFor="let orden of ordenes">
                        <td>{{orden.personaO.nombrePer}}</td>
                        <td>{{orden.totalOrden}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">payments</span>
            <input type="text" class="form-control" placeholder="Tipo de Pago" [(ngModel)]="ventag.tipoPago"
                aria-label="Username" disabled>
            <span class="material-symbols-rounded">loyalty</span>
            <input type="text" class="form-control" placeholder="Descuetno" [(ngModel)]="ventag.descuento"
                aria-label="Server" disabled>
        </div>

        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">receipt_long</span>
            <input type="text" class="form-control" placeholder="Subtotal" [(ngModel)]="ventag.subtotal"
                aria-label="Username" disabled>
            <span class="material-symbols-rounded">account_balance</span>
            <input type="text" class="form-control" placeholder="IVA" [(ngModel)]="ventag.iva" aria-label="Server"
                disabled>
        </div>
        <div class="input-group input-group-sm mb-3">
            <span class="material-symbols-rounded">attach_money</span>
            <input type="text" class="form-control" placeholder="Total" [(ngModel)]="ventag.total" aria-label="Username"
                aria-describedby="basic-addon1" disabled>
        </div>

    </div>
</div>